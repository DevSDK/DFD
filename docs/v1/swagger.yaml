basePath: /
definitions:
  docmodels.RequestBodyAnnouncePost:
    properties:
      description:
        example: This field is optional
        type: string
      target_date:
        format: date-time
        type: string
      title:
        example: Title
        type: string
    type: object
  docmodels.RequestBodyImagePost:
    properties:
      img:
        example: data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
        format: base64
        type: string
    type: object
  docmodels.RequestBodyStatePost:
    properties:
      state:
        example: Working
        type: string
    type: object
  docmodels.RequestEmpty:
    type: object
  docmodels.ResponseBadRequest:
    properties:
      messsage:
        example: Bad request message
        type: string
      status:
        example: 400
        type: integer
    type: object
  docmodels.ResponseImageElement:
    properties:
      id:
        example: 6006d3cc95f8c8e32d660c04
        type: string
      uploadDate:
        format: date-time
        type: string
    type: object
  docmodels.ResponseInternalServerError:
    properties:
      messsage:
        example: Internal Server Error
        type: string
      status:
        example: 500
        type: integer
    type: object
  docmodels.ResponseLoLHistory:
    properties:
      id:
        example: 6006d3cc95f8c8e32d660c04
        type: string
      timestamp:
        example: 1610811479544
        type: integer
      win:
        example: true
        type: boolean
    type: object
  docmodels.ResponseNotFound:
    properties:
      messsage:
        example: Not found message
        type: string
      status:
        example: 404
        type: integer
    type: object
  docmodels.ResponseSuccess:
    properties:
      messsage:
        example: success
        type: string
      status:
        example: 200
        type: integer
    type: object
  docmodels.ResponseUnauthorized:
    properties:
      messsage:
        example: Request Unauthorized message
        type: string
      status:
        example: 401
        type: integer
      token_expired:
        example: true
        type: boolean
    type: object
  models.Announce:
    properties:
      authorId:
        example: 5c06bc289b9bdd2381263063
        type: string
      created:
        type: string
      description:
        example: this project is awesome!
        type: string
      id:
        example: 6006bc289b9bdd2381263063
        type: string
      modified:
        type: string
      targetDate:
        example: "2021-01-19T11:01:19+00:00"
        type: string
      title:
        example: awesome title
        type: string
    type: object
  models.DFDHistory:
    properties:
      created:
        type: string
      id:
        type: string
      state:
        type: string
      was:
        type: string
    type: object
  models.User:
    properties:
      created:
        format: date-time
        type: string
      email:
        format: email
        type: string
      id:
        type: string
      lolUsername:
        type: string
      profileImage:
        type: string
      role:
        type: string
      username:
        type: string
    type: object
host: localhost:8080
info:
  contact:
    email: 0xdevssh@gmail.com
    name: Seokho Song
    url: http://github.com/devsdk
  description: |-
    # This is a DFD server
    Most of api endpoints aim to restful.
    ## Permissions
    API endpoints request a permission.
    If not described, It is public API.
    Permissions are described below table:
    | Permission      | Description                     | Role               |
    |-----------------|---------------------------------|--------------------|
    | user.patch      | Allows edit user information.   | Admin <br/> User   |
    | user.get        | Allows get user information     | Admin <br/> User   |
    | imagelist.get   | Allows get own image list       | Admin <br /> User  |
    | image.post      | Allows image upload             | Admin  <br /> User |
    | image.delete    | Allows image delete             | Admin  <br /> User |
    | states.get      | Allows get states history       | Admin  <br /> User |
    | states.post     | Allows create states            | Admin  <br /> User |
    | announces.get   | Allows get states announce list | Admin  <br /> User |
    | announce.post   | Allows create announce          | Admin  <br /> User |
    | announce.get    | Allows get announce             | Admin  <br /> User |
    | announce.delete | Allows delete my announce       | Admin  <br /> User |
    | announce.patch  | Allows patch announce           | Admin  <br /> User |
    ## Authentication
    Login is working with discord Oauth2.
    After login, the access and refresh token stored in Cookie.
    However, all request takes access token in **Authorization** header for security.
    The access token is JWT statless token.
    Refresh token is stored and used cookie.
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  title: DFD API
  version: "1.0"
paths:
  /api/v1/announce:
    post:
      consumes:
      - application/json
      description: |-
        write announce
        Permission : **announce.post**
      parameters:
      - description: username
        in: body
        name: bodymap
        required: true
        schema:
          $ref: '#/definitions/docmodels.RequestBodyAnnouncePost'
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                id:
                  type: string
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Write announce
      tags:
      - api/v1/announce
  /api/v1/announce/{id}:
    delete:
      consumes:
      - application/json
      description: |-
        Delete announce by announce id
        Permission : **announce.delete**
      parameters:
      - description: Announce ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/docmodels.ResponseSuccess'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Delete announce
      tags:
      - api/v1/announce
    get:
      consumes:
      - application/json
      description: |-
        Get specific announce by announce id
        Permission : **announce.get**
      parameters:
      - description: Announce ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                announce:
                  $ref: '#/definitions/models.Announce'
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Get announce
      tags:
      - api/v1/announce
    patch:
      consumes:
      - application/json
      description: |-
        Edit spcific announce written by me
        Permission : **announce.get**
      parameters:
      - description: Announce ID
        in: path
        name: id
        required: true
        type: string
      - description: body
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/docmodels.RequestBodyAnnouncePost'
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/docmodels.ResponseSuccess'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Patch
      tags:
      - api/v1/announce
  /api/v1/announces/all:
    get:
      consumes:
      - application/json
      description: |-
        Get all announce list sorted by creation time
        Permission : **announces.get**
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                list:
                  items:
                    $ref: '#/definitions/models.Announce'
                  type: array
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Get all announce list
      tags:
      - api/v1/announce
  /api/v1/announces/me:
    get:
      consumes:
      - application/json
      description: |-
        get announce list written by me
        Permission : **announces.get**
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                list:
                  items:
                    $ref: '#/definitions/models.Announce'
                  type: array
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Get own announce list
      tags:
      - api/v1/announce
  /api/v1/announces/user/{id}:
    get:
      consumes:
      - application/json
      description: |-
        Get announce list written by user
        Permission : **announces.get**
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                list:
                  items:
                    $ref: '#/definitions/models.Announce'
                  type: array
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Get announce list by user id
      tags:
      - api/v1/announce
  /api/v1/image:
    post:
      consumes:
      - application/json
      description: |-
        Upload Image by base64 image. It supports **png, jpeg, gif**
        Permission : **image.post**
      parameters:
      - description: base64 image
        in: body
        name: img
        required: true
        schema:
          $ref: '#/definitions/docmodels.RequestBodyImagePost'
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                id:
                  type: string
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Post image
      tags:
      - api/v1/image
  /api/v1/image/{id}:
    delete:
      consumes:
      - application/json
      description: |-
        Delete image by image id.
        Permission : **image.delete**
      parameters:
      - description: Image ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/docmodels.ResponseSuccess'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Delete image
      tags:
      - api/v1/image
    get:
      consumes:
      - application/json
      description: Get Image. When Success it provide image
      parameters:
      - description: Image ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - image/png
      - image/jpeg
      - image/gif
      responses:
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      summary: Get image by id
      tags:
      - api/v1/image
  /api/v1/images:
    get:
      consumes:
      - application/json
      description: |-
        Get Image list uploaded from me.
        Permission : **imagelist.get**
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                images:
                  items:
                    $ref: '#/definitions/docmodels.ResponseImageElement'
                  type: array
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Get my image list
      tags:
      - api/v1/image
  /api/v1/lol/history/{id}:
    get:
      consumes:
      - application/json
      description: Find game after the timestamp and store to DB
      parameters:
      - description: Game ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                game:
                  type: object
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      summary: Update lol history
      tags:
      - api/v1/lol/history
  /api/v1/lol/history/updater:
    post:
      consumes:
      - application/json
      description: |-
        Find game after the timestamp and store to DB
        **Application Token** is required.
      parameters:
      - description: application access token
        in: header
        name: X-Dfd-App-Auth
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                results:
                  items:
                    type: string
                  type: array
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Update lol history
      tags:
      - api/v1/lol/history
  /api/v1/lol/historys:
    get:
      consumes:
      - application/json
      description: Find game after the timestamp and store to DB
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                games:
                  items:
                    $ref: '#/definitions/docmodels.ResponseLoLHistory'
                  type: array
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      summary: Update lol history
      tags:
      - api/v1/lol/history
  /api/v1/state:
    post:
      consumes:
      - application/json
      description: |-
        Create state
        Permission : **states.post**
      parameters:
      - description: Create user state
        in: body
        name: state
        required: true
        schema:
          $ref: '#/definitions/docmodels.RequestBodyStatePost'
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/docmodels.ResponseSuccess'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Create state
      tags:
      - api/v1/state
  /api/v1/states:
    get:
      consumes:
      - application/json
      description: |-
        Get my state change history
        Permission : **states.get**
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                history:
                  items:
                    $ref: '#/definitions/models.DFDHistory'
                  type: array
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Get my state history
      tags:
      - api/v1/state
  /api/v1/states/{id}:
    get:
      consumes:
      - application/json
      description: |-
        Get user's state change history
        Permission : **states.get**
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                history:
                  items:
                    $ref: '#/definitions/models.DFDHistory'
                  type: array
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Get state history
      tags:
      - api/v1/state
  /api/v1/user:
    get:
      consumes:
      - application/json
      description: |-
        Get me
        Permission : **user.get**
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                user:
                  $ref: '#/definitions/models.User'
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Get My User Information
      tags:
      - api/v1/user
    patch:
      consumes:
      - application/json
      description: |-
        edit userfield. For now, only username can could be patched
        Permission : **user.patch**
      parameters:
      - description: username
        in: body
        name: username
        required: true
        schema:
          allOf:
          - $ref: '#/definitions/docmodels.RequestEmpty'
          - properties:
              username:
                type: string
            type: object
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/docmodels.ResponseSuccess'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Edit user information
      tags:
      - api/v1/user
  /api/v1/user/{id}:
    get:
      consumes:
      - application/json
      description: |-
        Get user by user id
        Permission : **user.get**
      operationId: get-string-by-string
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/docmodels.ResponseSuccess'
            - properties:
                user:
                  $ref: '#/definitions/models.User'
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Get User Information
      tags:
      - api/v1/user
  /api/v1/user/lol:
    patch:
      consumes:
      - application/json
      description: |-
        Update LOL user informations
        Permission : **user.patch**
      parameters:
      - description: league of legends username
        in: body
        name: lol_username
        required: true
        schema:
          allOf:
          - $ref: '#/definitions/docmodels.RequestEmpty'
          - properties:
              lol_username:
                type: string
            type: object
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/docmodels.ResponseSuccess'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/docmodels.ResponseBadRequest'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "403":
          description: You don't have permission
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/docmodels.ResponseInternalServerError'
      security:
      - ApiKeyAuth: []
      summary: Patch LOL Information
      tags:
      - api/v1/user
  /auth/login:
    get:
      consumes:
      - application/json
      description: Redirect to discord Oauth2 login page
      produces:
      - application/json
      summary: Login
      tags:
      - auth/
  /auth/logout:
    get:
      consumes:
      - application/json
      description: Delete access token and refresh token from cookie. And register
        the refresh token into blacklist
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/docmodels.ResponseSuccess'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
      security:
      - ApiKeyAuth: []
      summary: Logout
      tags:
      - auth/
  /auth/refresh:
    get:
      consumes:
      - application/json
      description: 'Refresh access token token. REQUIRED: access and refresh JWT token
        in cookie.'
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/docmodels.ResponseSuccess'
        "401":
          description: Unauthorized Request. If token is expired, **token_expired**
            filed must be set true
          schema:
            $ref: '#/definitions/docmodels.ResponseUnauthorized'
        "404":
          description: Cannt found user
          schema:
            $ref: '#/definitions/docmodels.ResponseNotFound'
      security:
      - ApiKeyAuth: []
      summary: Refresh token
      tags:
      - auth/
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
